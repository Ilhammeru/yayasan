window.createUser=function(e,t){openModalWithValue("GET","form-user","modalUser","modalUserLabel",e,base_url+"/users/create/"+t)},window.updateForm=function(e,t,a){openModalWithValue("GET","form-user","modalUser","modalUserLabel",t,base_url+"/users/"+e+"/edit/"+a)},window.saveItem=function(){var e=$("#form-user"),t=new FormData($("#form-user")[0]),a=e.attr("method"),s=e.attr("action"),n=0;$("#status").prop("checked")&&(n=1),t.append("status",n),$.ajax({type:a,url:s,data:t,contentType:!1,processData:!1,beforeSend:function(){disableButton("btn-save"),disableButton("btn-cancel")},success:function(e){disableButton("btn-save",!1),disableButton("btn-cancel",!1),showNotif(!1,e.message),closeModal("modalUser"),dt_user.ajax.reload()},error:function(e){disableButton("btn-save",!1),disableButton("btn-cancel",!1),showNotif(!0,e)}})},window.getClasses=function(e){var t=e.value;$.ajax({type:"POST",url:base_url+"/get-class",data:{institution_id:t},beforeSend:function(){$("#institution_class_id").chosen("destroy"),$("#institution_class_id").prop("disabled",!0),$("#institution_class_id").html(""),$("#institution_class_level_id").chosen("destroy"),$("#institution_class_level_id").html(""),$("#institution_class_level_id").prop("disabled",!0)},success:function(e){console.log("rssses",e);for(var t=e.data,a="<option></option>",s=0;s<t.length;s++)a+='<option value="'.concat(t[s].id,'">').concat(t[s].name,"</option>");$("#institution_class_id").html(a),$("#institution_class_id").prop("disabled",!1),$("#institution_class_id").chosen({width:"100%"})},error:function(e){showNotif(!0,e)}})},window.getLevels=function(e){var t=e.value;$.ajax({type:"POST",url:base_url+"/get-level",data:{class_id:t},beforeSend:function(){$("#institution_class_level_id").chosen("destroy"),$("#institution_class_level_id").html(""),$("#institution_class_level_id").prop("disabled",!0)},success:function(e){for(var t=e.data,a="<option></option>",s=0;s<t.length;s++)a+='<option value="'.concat(t[s].id,'">').concat(t[s].name,"</option>");$("#institution_class_level_id").prop("disabled",!1),$("#institution_class_level_id").html(a),$("#institution_class_level_id").chosen({width:"100%"})},error:function(e){setNotif(!0,e.responseJSON)}})},window.selectImage=function(){$("#user-image").click()},window.showImage=function(e){var t=new FileReader;t.onload=function(){$("#preview-image").css({backgroundImage:"url(".concat(t.result,")")})},t.readAsDataURL(e.target.files[0]),$("#icon-action-image").removeClass("fa-camera"),$("#icon-action-image").addClass("fa-times"),$("#icon-action-image").css({color:"red"}),$("#icon-action-image").attr("onclick","removePreviewImage()")},window.removePreviewImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;$("#preview-image").css({backgroundImage:"url(../../assets/img/blank.png)"}),$("#icon-action-image").addClass("fa-camera"),$("#icon-action-image").removeClass("fa-times"),$("#icon-action-image").attr("onclick","selectImage()"),$("#icon-action-image").css({color:"black"}),$("#user-image").val(""),e&&$("#is_delete_image").val(1)},window.showProfile=function(e,t,a){var s=base_url+"/users/"+t+"/"+e+"/show";openModalWithValue("GET","form-user","modalUser","modalUserLabel",a,s,null,!0)},window.deleteItem=function(e,t,a){var s=base_url+"/users/".concat(e,"/").concat(a);deleteMaster(t,"Yes! Delete it","Cancel",s,dt_user)},window.appendTableFilter=function(e,t,a){$("#table-users_filter").html('\n            <div class="row">\n                <div class="col-md-4">\n                    <div class="">\n                        <input class="form-control" id="all-search" placeholder="'.concat(i18n.view.search_anything,'" style="width: 100%;">\n                    </div>\n                </div>\n                <div class="col-md-4">\n                    <div class="">\n                        <select class="form-control" data-placeholder="').concat(i18n.view.search_user_type,'" id="user-type-search"\n                            style="width: 100%;">\n                            <option></option>\n                            <option value="all">').concat(i18n.view.all,'</option>\n                            <option value="2">').concat(i18n.view.goverment,'</option>\n                            <option value="1">').concat(i18n.view.public,'</option>\n                        </select>\n                    </div>\n                </div>\n                <div class="col-md-4">\n                    <div class="">\n                        <select class="form-control" data-placeholder="').concat(i18n.view.search_user_status,'" id="user-status-search"\n                            style="width: 100%;">\n                            <option></option>\n                            <option value="all">').concat(i18n.view.all,'</option>\n                            <option value="active">').concat(i18n.view.active,'</option>\n                            <option value="inactive">').concat(i18n.view.inactive,"</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n        "))},window.searchUserType=function(e){for(var t=$(".user-type-option"),a=0;a<t.length;a++)t[a].classList.remove("active");$("#search-type-".concat(e)).addClass("active"),dt_user=createDataTables("table-users",columns,dt_route,{user_type:e,status:$("#search-user-status").val(),name:$("#search-all").val()})},window.searchStatus=function(e){var t=e.value,a=$(".user-type-option.active").data("type");dt_user=createDataTables("table-users",columns,dt_route,{user_type:a,status:t,name:$("#search-all").val()})},window.searchAll=function(e){var t=e.value,a=$(".user-type-option.active").data("type");dt_user=createDataTables("table-users",columns,dt_route,{user_type:a,status:$("#search-user-status").val(),name:t})};
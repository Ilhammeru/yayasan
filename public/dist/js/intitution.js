(()=>{var t={273:(t,e,a)=>{"use strict";a.r(e),a.d(e,{CountUp:()=>i});var n=function(){return(n=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var i in e=arguments[a])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=function(){function t(t,e,a){var i=this;this.endVal=e,this.options=a,this.version="2.3.2",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){i.startTime||(i.startTime=t);var e=t-i.startTime;i.remaining=i.duration-e,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(e,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(e,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(e/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),e<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.callback&&i.callback()},this.formatNumber=function(t){var e,a,n,s,o=t<0?"-":"";e=Math.abs(t).toFixed(i.options.decimalPlaces);var l=(e+="").split(".");if(a=l[0],n=l.length>1?i.options.decimal+l[1]:"",i.options.useGrouping){s="";for(var r=0,c=a.length;r<c;++r)0!==r&&r%3==0&&(s=i.options.separator+s),s=a[c-r-1]+s;a=s}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]})),n=n.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]}))),o+i.options.prefix+a+n+i.options.suffix},this.easeOutExpo=function(t,e,a,n){return a*(1-Math.pow(2,-10*t/n))*1024/1023+e},this.options=n(n({},this.defaults),a),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return i.handleScroll(i)})),window.onscroll=function(){window.onScrollFns.forEach((function(t){return t()}))},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var e=window.innerHeight+window.scrollY,a=t.el.getBoundingClientRect(),n=a.top+a.height+window.pageYOffset;n<e&&n>window.scrollY&&t.paused?(t.paused=!1,setTimeout((function(){return t.start()}),t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):window.scrollY>n&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var a=this.countDown?1:-1;this.endVal=t+a*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}()}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,a),s.exports}a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=a(273).CountUp;function e(t){var e="target-detail-data";t.update&&(e="target-detail-table-data"),$.ajax({type:"POST",url:base_url+"/intitutions/detail-data/intitutions",data:t,beforeSend:function(){$("#"+e).html('\n                <i class="fa fa-spinner fa-2x fa-spin"></i> <br>\n                '.concat(i18n.view.generate_data,"\n            ")).css({textAlign:"center"})},success:function(a){console.log(a),$("#"+e).html(a.view).css({textAlign:"unset"}),null!=t.update&&t.update||($(".filter-class").removeClass("themed-border-default").removeClass("themed-background-default").removeClass("themed-color-white").removeClass("btn-default").addClass("btn-default"),$("#filter-class-"+a.data.data.classes[0].id).removeClass("btn-default").addClass("themed-border-default").addClass("themed-background-default").addClass("themed-color-white")),t.update&&($(".filter-level").removeClass("themed-border-default").removeClass("themed-background-default").removeClass("themed-color-white").removeClass("btn-default").addClass("btn-default"),$("#filter-level-"+a.data.level_id).removeClass("btn-default").addClass("themed-border-default").addClass("themed-background-default").addClass("themed-color-white"))},error:function(t){}})}function n(){e({institution_id:$("#df_institution_id").val(),class_id:$("#df_class_id").val(),level_id:$("#df_level_id").val()})}n(),window.updateForm=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Update institution",a=base_url+"/intitutions/".concat(t,"/edit"),n=base_url+"/intitutions/".concat(t);$.ajax({type:"GET",url:a,dataType:"json",success:function(t){$("#modalIntitutionLabel").text(e),$("#modalIntitution .modal-body").html(t.view),$("#modalIntitution").modal("show"),$("#form-intitution").attr("action",n),$("#form-intitution").attr("method","PUT")},error:function(t){showNotif(!0,t)}})},window.deleteClassRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0!=e?sweetAlert({text:i18n.view.delete_text,icon:"warning",buttons:!0,dangerMode:!0,confirmButtonText:i18n.view.confirm_delete}).then((function(e){if(e){var a=$(".level-wrapper-"+t),n=$('input[name="ins['.concat(t,'][class_name]"]')).val(),i={class_name:n,level:[]};if(n)for(var s=0;s<a.length;s++){var o=a[s].id,l=$("#"+o).data("key"),r=$('input[name="ins['.concat(t,"][class][").concat(l,'][level]"]')).val();i.level.push(r)}var c=$("#current_id").val();i.id=c,$.ajax({type:"POST",url:base_url+"/intitutions/delete-class",data:i,beforeSend:function(){loadingPage()},success:function(e){loadingPage(!1),showNotif(!1,e.message),$("#class-wrapper-"+t).remove()},error:function(t){loadingPage(!1),showNotif(!0,t)}})}})):$("#class-wrapper-"+t).remove()},window.deleteLevel=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;0!=a?sweetAlert({text:i18n.view.delete_text,icon:"warning",buttons:!0,dangerMode:!0,confirmButtonText:i18n.view.confirm_delete}).then((function(a){if(a){$(".level-wrapper-"+t);var n=$('input[name="ins['.concat(e,'][class_name]"]')).val(),i={class_name:n,level:[]};if(n){var s=$('input[name="ins['.concat(e,"][class][").concat(t,'][level]"]')).val();i.level.push(s)}var o=$("#current_id").val();i.id=o,$.ajax({type:"POST",url:base_url+"/intitutions/delete-level",data:i,beforeSend:function(){loadingPage()},success:function(a){loadingPage(!1),showNotif(!1,a.message),$("#level-helper-s-"+t+"-"+e).remove()},error:function(t){loadingPage(!1),showNotif(!0,t)}})}})):$("#level-helper-s-"+t+"-"+e).remove()},window.playCountUp=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i={startVal:0,duration:n,separator:"."},s=new t(a,e,i);s.start()},window.chooseHomeroomTeacher=function(t,e,a){$.ajax({type:"GET",url:base_url+"/intitutions/show-homeroom-teacher?class_id="+t+"&level_id="+e+"&institution_id="+a,success:function(t){$("#modalChooseHomeroom .modal-body #target-form").html(t.view),$("#modalChooseHomeroom").modal("show"),$("#homeroom").chosen({width:"100%"})},error:function(t){showNotif(!0,t)}})},window.initDetailData=n,window.saveHomeroom=function(){var t=$("#form-select-homeroom").serialize();$.ajax({type:"POST",url:base_url+"/intitutions/store-homeroom",data:t,beforeSend:function(){loadingPage(!0,i18n.view.saving)},success:function(t){loadingPage(!1),showNotif(!1,t.message),$("#modalChooseHomeroom").modal("hide"),$("#target-homeroom-teacher").html("\n            <b>".concat(t.data.homeroom,'</b>\n            <a style="cursor: pointer;" onclick="chooseHomeroomTeacher(').concat(t.data.class_id,", ").concat(t.data.level_id,", ").concat(t.data.institution_id,')">').concat(i18n.view.change_homeroom,' <i class="fa fa-share"></i></a>\n            '))},error:function(t){showNotif(!0,t),loadingPage(!1)}})},window.changeLevel=function(t,a,n){e({institution_id:t,class_id:n,level_id:a,update:!0})},window.changeClass=function(t,a){e({institution_id:a,class_id:t,level_id:0})},window.appendLevel=function(t){$(".level-helper-s");var e=$(".class-wrapper"),a=$(".level-wrapper-"+t),n=e.length,i=a.length,s='\n        <div class="col-md-6 level-wrapper-'.concat(t,'" data-key="').concat(i,'" id="level-helper-f-').concat(i,"-").concat(n,'"></div>\n        <div class="col-md-6" id="level-helper-s-').concat(i,"-").concat(n,'">\n            <div class="input-group">\n                <input type="text" id="class_level-').concat(i,"-").concat(t,'" data-key="').concat(i,'" name="ins[').concat(t,"][class][").concat(i,'][level]" class="form-control form-control-sm level-input-').concat(t,'" placeholder="A / B / C / etc" required>\n                <span class="input-group-addon"><i class="gi gi-remove_2" onclick="deleteLevel(').concat(i,", ").concat(n,')" style="color: red; cursor: pointer;"></i></span>\n            </div>\n        </div>\n    ');$("#target-class-level-".concat(t)).append(s),$("#class_level-".concat(i,"-").concat(t)).focus()},window.appendClass=function(t,e){var a=$(".class-wrapper").length,n='\n        <div class="border p-3 mb-3 class-wrapper" id="class-wrapper-'.concat(a,'" style="position: relative; width: 100%;">\n            <span class="gi gi-remove text-danger" onclick="deleteClassRow(').concat(a,')" style="position: absolute; top: -4px; right: -2px; font-size: 18px; cursor: pointer;"></span>\n            <div class="row">\n                <div class="col-md-6 col-sm-12 level-wrapper-').concat(a,'" data-key="0" id="level-helper-f-0-').concat(a,'">\n                    <div class="form-group mb-3">\n                        <label for="class_name" class="control-label">').concat(t,'</label>\n                        <input type="text" name="ins[').concat(a,'][class_name]" data-key="').concat(a,'" placeholder="').concat(t,'" class="form-control form-control-sm class-input-').concat(a,'" id="class_name-').concat(a,'">\n                    </div>\n                </div>\n                <div class="col-md-6 col-sm-12">\n                    <div class="form-group" style="margin-bottom: 0;">\n                        <label for="class_level" class="control-label">').concat(e,'</label>\n                        <div class="input-group">\n                            <input type="text" id="class_level" data-key="0" name="ins[').concat(a,'][class][0][level]" class="form-control form-control-sm level-input-').concat(a,'" placeholder="A / B / C / etc" required>\n                            <span class="input-group-addon"><i class="gi gi-plus" onclick="appendLevel(').concat(a,')" style="cursor: pointer;"></i></span>\n                        </div>\n                    </div>\n                </div>\n                <div id="target-class-level-').concat(a,'"></div>\n            </div>\n        </div>\n    ');$("#target-class").append(n),$("#class_name-".concat(a)).focus()},window.showDetail=e,window.hasClass=function(){if($('input[name="has_class"]')[0].checked){$(".class-container").removeClass("d-none");for(var t=$(".class-wrapper"),e=0;e<t.length;e++)if(0!=e){var a=t[e].id;$("#"+a).remove()}$('input[name="ins[0][class_name]"]').val(""),$('input[name="ins[0][class][0][level]"]').val(""),$("#target-class-level-0").html("");var n=$("#current_id").val();0!=n&&$.ajax({type:"POST",url:base_url+"/intitutions/show-class-level-form",data:{id:n},beforeSend:function(){$("#target-class-level").html('\n                        <i class="fa fa-spinner fa-2x fa-spin"></i> <br>\n                        '.concat(i18n.view.generate_form,"\n                    ")).css({textAlign:"center"})},success:function(t){$("#target-class-level").html(t.view)}})}else $(".class-container").addClass("d-none")}})()})();
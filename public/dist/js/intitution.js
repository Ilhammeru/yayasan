(()=>{var n=window.location.origin;window.createForm=function(t){var e=n+"/intitutions/create",a=n+"/intitutions";$.ajax({type:"GET",url:e,dataType:"json",success:function(n){$("#modalIntitutionLabel").text(t),$("#modalIntitution .modal-body").html(n.view),$("#modalIntitution").modal("show"),$("#form-intitution").attr("action",a),$("#form-intitution").attr("method","POST")},error:function(n){showNotif(!0,n)}})},window.saveItem=function(){for(var n=$("#form-intitution"),t=n.serialize(),e=n.attr("action"),a=n.attr("method"),o=$(".class-wrapper"),l=0;l<o.length;l++){var c=$(".class-input-".concat(l)).val();if(""!=$(".level-input-".concat(l)).val()&&""==c)return showNotif(!0,"Class cannot be empty if level of class is declare")}$.ajax({type:a,url:e,data:t,beforeSend:function(){$("#btn-save").prop("disabled",!0),$("#btn-cancel").prop("disabled",!0)},success:function(n){$("#btn-save").prop("disabled",!1),$("#btn-cancel").prop("disabled",!1),dttable.ajax.reload(),showNotif(!1,n.message),closeModal("modalIntitution")},error:function(n){$("#btn-save").prop("disabled",!1),$("#btn-cancel").prop("disabled",!1),showNotif(!0,n)}})},window.appendLevel=function(n){$(".level-helper-s");var t=$(".class-wrapper"),e=$(".level-wrapper-"+n),a=t.length,o=e.length,l='\n        <div class="col-md-6 level-wrapper-'.concat(n,'" id="level-helper-f-').concat(o,"-").concat(a,'"></div>\n        <div class="col-md-6" id="level-helper-s-').concat(o,"-").concat(a,'">\n            <div class="input-group">\n                <input type="text" id="class_level-').concat(o,"-").concat(n,'" name="ins[').concat(n,"][class][").concat(o,'][level]" class="form-control form-control-sm level-input-').concat(n,'" placeholder="A / B / C / etc" required>\n                <span class="input-group-addon"><i class="gi gi-remove_2" onclick="deleteLevel(').concat(o,", ").concat(a,')" style="color: red; cursor: pointer;"></i></span>\n            </div>\n        </div>\n    ');$("#target-class-level-".concat(n)).append(l),$("#class_level-".concat(o,"-").concat(n)).focus()},window.deleteLevel=function(n,t){$("#level-helper-f-".concat(n,"-").concat(t)).remove(),$("#level-helper-s-".concat(n,"-").concat(t)).remove()},window.appendClass=function(n,t){var e=$(".class-wrapper").length,a='\n        <div class="border p-3 mb-3 class-wrapper" id="class-wrapper-'.concat(e,'" style="position: relative; width: 100%;">\n            <span class="gi gi-remove text-danger" onclick="deleteClassRow(').concat(e,')" style="position: absolute; top: -4px; right: -2px; font-size: 18px; cursor: pointer;"></span>\n            <div class="row">\n                <div class="col-md-6 col-sm-12 level-wrapper-').concat(e,'">\n                    <div class="form-group mb-3">\n                        <label for="class_name" class="control-label">').concat(n,'</label>\n                        <input type="text" name="ins[').concat(e,'][class_name]" placeholder="').concat(n,'" class="form-control form-control-sm class-input-').concat(e,'" id="class_name-').concat(e,'">\n                    </div>\n                </div>\n                <div class="col-md-6 col-sm-12">\n                    <div class="form-group" style="margin-bottom: 0;">\n                        <label for="class_level" class="control-label">').concat(t,'</label>\n                        <div class="input-group">\n                            <input type="text" id="class_level" name="ins[').concat(e,'][class][0][level]" class="form-control form-control-sm level-input-').concat(e,'" placeholder="A / B / C / etc" required>\n                            <span class="input-group-addon"><i class="gi gi-plus" onclick="appendLevel(').concat(e,')" style="cursor: pointer;"></i></span>\n                        </div>\n                    </div>\n                </div>\n                <div id="target-class-level-').concat(e,'"></div>\n            </div>\n        </div>\n    ');$("#target-class").append(a),$("#class_name-".concat(e)).focus()},window.updateForm=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Update institution",a=n+"/intitutions/".concat(t,"/edit"),o=n+"/intitutions/".concat(t);$.ajax({type:"GET",url:a,dataType:"json",success:function(n){$("#modalIntitutionLabel").text(e),$("#modalIntitution .modal-body").html(n.view),$("#modalIntitution").modal("show"),$("#form-intitution").attr("action",o),$("#form-intitution").attr("method","PUT")},error:function(n){showNotif(!0,n)}})},window.deleteClassRow=function(n){$("#class-wrapper-".concat(n)).remove()},window.hasClass=function(){if($('input[name="has_class"]')[0].checked){$(".class-container").removeClass("d-none");for(var n=$(".class-wrapper"),t=0;t<n.length;t++)if(0!=t){var e=n[t].id;$("#"+e).remove()}$('input[name="ins[0][class_name]"]').val(""),$('input[name="ins[0][class][0][level]"]').val(""),$("#target-class-level-0").html("")}else $(".class-container").addClass("d-none")}})();
Project yayasan {
    database: 'MySql'
}

Table external_user {
    id int [pk, increment]
    user_type tinyint [not null, note: '1 for public, 2 for goverment']
    name varchar(200) [not null]
    phone varchar(15) [not null]
    address varchar(255) [not null]
    district_id int
    city_id int
    province_id int
    status boolean [not null, default: 'false']
    created_at timestamp
    updated_at timestamp
}

Table internal_user {
    id int [pk, increment]
    name varchar(255) [not null]
    institution_id int [not null, ref: > intitutions.id]
    nis varchar(25)
    parent_data varchar(200)
    phone varchar(15)
    address varchar(255)
    district_id int
    city_id int
    province_id int
    class_level_id int [ref: > class_level.id]
    status boolean [not null, default: 'true']
    created_at timestamp
    updated_at timestamp
}

Table intitutions {
    id int [pk, increment]
    name varchar(255) [not null]
    status boolean [default: 'true']
    created_at timestamp
    updated_at timestamp
}

Table institution_class {
    id int [pk, increment]
    intitution_id int [ref: > intitutions.id]
    name varchar(255) [not null]
    created_at timestamp
    updated_at timestamp
}

Table institutions_class_level {
    id int [pk, increment]
    institution_class_id int [ref: > intitution_class.id]
    name varchar(10)
    created_at timestamp
    updated_at timestamp
}

Table positions {
    id int [pk, increment]
    name varchar(100) [not null]
    role_id int [not null]
    created_at timestamp
    updated_at timestamp
}

Table employees {
    id int [pk, increment]
    name varchar(255) [not null]
    user_id int [ref: > users.id]
    nip varchar(30) [not null]
    phone varchar(15) [not null]
    address varchar(255)
    district_id int
    city_id int
    province_id int
    account_number varchar(25)
    institution_id [ref: > intitutions.id]
    position_id int [ref: > positions.id]
    status boolean [default: 'true']
    created_at timestamp
    updated_at timestamp
}

Table users {
    id int [pk, increment]
    username varchar(100)
    password text
    role int
    created_at timestamp
    updated_at timestamp
}

Table income_type {
    id int [pk, increment]
    name varchar(100)
    created_at timestamp
    updated_at timestamp
}

Table income_category {
    id int [pk, increment]
    name varchar(100) [not null]
    created_at timestamp
    updated_at timestamp
}